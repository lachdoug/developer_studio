class App

  include ActiveModel::Model
  # include ViewSpec

  def self.list
    Repo::App.list
  end

  def self.all
    list.map{ |name| new(name: name) }
  end

  def initialize(params)
    @name = params[:name]
  end

  attr_accessor :name

  def blueprint
    @blueprint ||= App::Blueprint.new(self)
  end

  def readme
    @readme ||= App::Readme.new(self)
  end

  def release_notes
    @release_notes ||= App::ReleaseNotes.new(self)
  end

  def license
    @license ||= App::License.new(self)
  end

  def repository
    @repository ||= Repo::App.new(name)
  end

  def delete
    FileUtils.rm_rf("repos/apps/#{name}")
  end


# [{"name":"node4.7","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"node6.9","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"openjdk7","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"node12","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":false,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"apache php56","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":true,"apache_htaccess_files":true,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":true,"database_seed_file":true,"external_repositories":false,"module_types":[{"name":"php","title":"php"},{"name":"pear","title":"pear"},{"name":"apache","title":"apache"},{"name":"pecl","title":"pecl"}]},{"name":"rails5","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":true,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"rstudio","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":false,"continuous_deployment":true,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"lua","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[{"name":"luarocks","title":"lua"}]},{"name":"node10","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"meteor","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":false,"continuous_deployment":true,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Tomcat","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Jetty","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Sinatra","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Nginx","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Apache PHP","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":true,"apache_htaccess_files":true,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[{"name":"php","title":"php"},{"name":"pear","title":"pear"},{"name":"apache","title":"apache"},{"name":"pecl","title":"pecl"}]},{"name":"base_c","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":true,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"node","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":false,"continuous_deployment":true,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"python","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":false,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Tomcat","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Jetty","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"openjdk","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":false,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Sinatra","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":false,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[]},{"name":"Rails4","service_configurations":true,"persistent_directories":true,"replacement_strings":true,"persistent_files":true,"installed_packages":true,"system_packages":true,"ports":true,"workers":true,"rake_tasks":true,"template_files":true,"file_write_permissions":true,"custom_php_inis":false,"apache_htaccess_files":false,"variables":true,"component_sources":true,"apache_httpd_configurations":true,"continuous_deployment":false,"database_seed_file":true,"external_repositories":false,"module_types":[{"name":"apache","title":"apache"}]}]


end
